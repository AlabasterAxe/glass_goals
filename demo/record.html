<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      window.addEventListener("load", () => {
        console.log("loaded");
        const div = document.getElementById("blah");
        const button = document.getElementById("save-button");
        const locations = [];
        const startTime = Date.now();
        button.onclick = () => {
          const blob = new Blob([JSON.stringify(locations)]);
          const url = URL.createObjectURL(blob);
          const link = document.createElement("a");
          link.href = url;
          link.download = "mouse-events.json";
          link.click();
        };

        // on mousemove update div contents to reflect mouse coords
        document.onmousemove = function (e) {
          div.innerHTML = `x: ${e.clientX}, y: ${e.clientY}`;
          locations.push({
            x: e.clientX,
            y: e.clientY,
            time: Date.now() - startTime,
          });
        };
      });
    </script>
  </head>
  <body>
    <div
      style="width: 50px; height: 50px; background-color: cornflowerblue"
      id="blah"
    ></div>
    <button id="save-button">Save</button>
  </body>
</html>
